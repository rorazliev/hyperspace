(()=>{"use strict";var t={125:(t,e,n)=>{t.exports=n.p+"15cc7cafa84dfdbe46e3.png"},215:(t,e,n)=>{t.exports=n.p+"a17098ec1a00cb43a62b.png"},65:(t,e,n)=>{t.exports=n.p+"40507586bedf8ce56453.jpg"}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t=n(125),e=n(215),i=n(65),r=[{level:2,score:100,speed:6},{level:3,score:250,speed:7},{level:4,score:500,speed:8},{level:5,score:750,speed:9},{level:6,score:1e3,speed:10},{level:7,score:1500,speed:12},{level:7,score:2e3,speed:15},{level:8,score:2500,speed:20},{level:9,score:3e3,speed:25},{level:"Insane",score:5e3,speed:30}];function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=e,this.scale=n}var e,n;return e=t,(n=[{key:"overlaps",value:function(t){return this.top<t.bottom&&this.bottom>t.top&&this.left<t.right&&this.right>t.left}},{key:"x",get:function(){return this._x},set:function(t){this._x=t||0}},{key:"y",get:function(){return this._y},set:function(t){this._y=t||0}},{key:"width",get:function(){return this.image.width*this.scale}},{key:"height",get:function(){return this.image.height*this.scale}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}},{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}}])&&o(e.prototype,n),t}();function c(t,e){return Math.floor(Math.random()*(e-t+1))+t}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(r){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function s(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(i=o.call(this,t,e)).x=c(0,n.width-i.width),i.y=0-i.height,i}return e=s,(n=[{key:"move",value:function(t){this.y+=t/1.5}}])&&h(e.prototype,n),s}(s);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(i);if(r){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,t,.1)).x=e.width/2-n.width/2,n.y=e.height/2-n.height/2,n.direction=0,n.canvas=e,n}return e=s,(n=[{key:"move",value:function(t){1==this.direction&&(this.y-=t,this.y<0&&(this.y=0)),2==this.direction&&(this.y+=t,this.y+this.height>this.canvas.height&&(this.y=this.canvas.height-this.height)),3==this.direction&&(this.x-=t,this.x<0&&(this.x=0)),4==this.direction&&(this.x+=t,this.x+this.width>this.canvas.width&&(this.x=this.canvas.width-this.width))}}])&&d(e.prototype,n),s}(s);function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var x=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=e,this.x=0,this.y=n}var e,n;return e=t,(n=[{key:"update",value:function(t,e,n){this.y+=e/4,this.y>n&&(this.y=t.y-n+e/4)}}])&&w(e.prototype,n),t}();function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var O=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("2d"),this.resizeCanvas(),this.resources=e,this.player=new m(e[1],this.canvas),this.meteors=[],this.space=[new x(this.resources[2],0),new x(this.resources[2],this.canvas.height)],this.isRunning=!1,this.isOver=!1,this.speed=5,this.level=1,this.score=0,this.menu(),this.listen()}var e,n;return e=t,(n=[{key:"draw",value:function(){var t=this;this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="#10121e",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.space.forEach((function(e){t.context.drawImage(e.image,0,0,e.image.width,e.image.height,e.x,e.y,t.canvas.width,t.canvas.height)})),this.meteors.forEach((function(e){t.renderObject(e)})),this.renderObject(this.player),this.context.font="bold 18px Monospace",this.context.fillStyle="#ffffff",this.context.textBaseline="middle",this.context.textAlign="start",this.context.fillText("Level: ".concat(this.level),20,20),this.context.fillText("Score: ".concat(this.score),20,48)}},{key:"loop",value:function(){var t=this;this.update(),this.draw(),this.isOver||requestAnimationFrame((function(){return t.loop()}))}},{key:"listen",value:function(){var t=this;document.addEventListener("keydown",(function(e){t.isRunning||(t.isRunning=!0,requestAnimationFrame((function(){return t.loop()}))),38!=e.keyCode&&87!=e.keyCode||(t.player.direction=1),40!=e.keyCode&&83!=e.keyCode||(t.player.direction=2),37!=e.keyCode&&65!=e.keyCode||(t.player.direction=3),39!=e.keyCode&&68!=e.keyCode||(t.player.direction=4)})),document.addEventListener("keyup",(function(e){t.player.direction=0}))}},{key:"menu",value:function(){this.draw(),this.context.font="bold 18px Monospace",this.context.fillStyle="#ffffff",this.context.textBaseline="middle",this.context.textAlign="center",this.context.fillText("Use arrows to move",this.canvas.width/2,this.canvas.height-76)}},{key:"renderObject",value:function(t){this.context.drawImage(t.image,0,0,t.image.width,t.image.height,t.x,t.y,t.width,t.height)}},{key:"resizeCanvas",value:function(){var t=window.innerWidth,e=window.innerHeight;e<=t?(this.canvas.height=e,this.canvas.width=e):(this.canvas.height=t,this.canvas.width=t)}},{key:"update",value:function(){var t=this;this.space[0].update(this.space[1],this.speed,this.canvas.height),this.space[1].update(this.space[0],this.speed,this.canvas.height),c(0,1e3)>950&&this.meteors.length<15&&this.meteors.push(new p(this.resources[0],.1,this.canvas)),this.meteors.forEach((function(e){e.move(t.speed),e.top>=t.canvas.height&&(t.meteors.shift(),t.score+=10),t.player.overlaps(e)&&(t.isOver=!0)})),r.forEach((function(e){t.score==e.score&&(t.level=e.level,t.speed=e.speed)})),this.player.move(this.speed)}}])&&k(e.prototype,n),t}();function j(t){return new Promise((function(e){var n=new Image;n.addEventListener("load",(function(){e(n)})),n.addEventListener("error",(function(t){reject(t)})),n.src=t}))}Promise.all([j(t),j(e),j(i)]).then((function(t){new O(t)}))})()})();