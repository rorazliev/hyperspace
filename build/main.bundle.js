(()=>{"use strict";var t={125:(t,e,n)=>{t.exports=n.p+"15cc7cafa84dfdbe46e3.png"},215:(t,e,n)=>{t.exports=n.p+"a17098ec1a00cb43a62b.png"},65:(t,e,n)=>{t.exports=n.p+"40507586bedf8ce56453.jpg"}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t=n(125),e=n(215),r=n(65);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=e,this.scale=n}var e,n;return e=t,(n=[{key:"overlaps",value:function(t){return this.top<t.bottom&&this.bottom>t.top&&this.left<t.right&&this.right>t.left}},{key:"x",get:function(){return this._x},set:function(t){this._x=t||0}},{key:"y",get:function(){return this._y},set:function(t){this._y=t||0}},{key:"width",get:function(){return this.image.width*this.scale}},{key:"height",get:function(){return this.image.height*this.scale}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}},{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}}])&&i(e.prototype,n),t}();function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,t);var e,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(r);if(i){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,t,.1)).x=e.width/2-n.width/2,n.y=e.height/2-n.height/2,n.canvas=e,n}return e=s,(n=[{key:"moveLeft",value:function(t){this.x-=t,this.x<0&&(this.x=0)}},{key:"moveRight",value:function(t){this.x+=t,this.x+this.width>this.canvas.width&&(this.x=this.canvas.width-this.width)}},{key:"moveUp",value:function(t){this.y-=t,this.y<0&&(this.y=0)}},{key:"moveDown",value:function(t){this.y+=t,this.y+this.height>this.canvas.height&&(this.y=thdasis.canvas.height-this.height)}}])&&a(e.prototype,n),s}(o);function l(t,e){return Math.floor(Math.random()*(e-t+1))+t}function p(t){return new Promise((function(e){var n=new Image;n.addEventListener("load",(function(){e(n)})),n.addEventListener("error",(function(t){reject(t)})),n.src=t}))}function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(s,t);var e,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(i){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function s(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=o.call(this,t,e)).x=l(0,n.width-r.width),r.y=0-r.height,r}return e=s,(n=[{key:"update",value:function(t){this.y+=t/2}}])&&v(e.prototype,n),s}(o);function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=e,this.x=0,this.y=n}var e,n;return e=t,(n=[{key:"update",value:function(t,e,n){this.y+=e/4,this.y>n&&(this.y=t.y-n+e/4)}}])&&m(e.prototype,n),t}();function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var O=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.getElementById(e),this.context=this.canvas.getContext("2d"),this.resources=n,this.handleCanvasResize(),window.addEventListener("resize",(function(){return r.handleCanvasResize()})),this.player=new f(n[1],this.canvas),window.addEventListener("keydown",(function(t){return r.handleKeydown(t)})),this.meteors=[],this.space=[new x(this.resources[2],0),new x(this.resources[2],this.canvas.height)],this.score=0,this.speed=5,this.level=1,this.start()}var e,n;return e=t,(n=[{key:"step",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderBackground(),this.generateMeteors(),this.renderMeteors(),this.renderPlayer(),this.renderStats()}},{key:"draw",value:function(t){this.context.drawImage(t.image,0,0,t.image.width,t.image.height,t.x,t.y,t.width,t.height)}},{key:"generateMeteors",value:function(){l(0,1e3)>950&&this.meteors.length<15&&this.meteors.push(new w(this.resources[0],.1,this.canvas))}},{key:"handleCanvasResize",value:function(){var t=window.innerHeight,e=window.innerWidth;t<=e?(this.canvas.height=t,this.canvas.width=t):(this.canvas.height=e,this.canvas.width=e)}},{key:"handleKeydown",value:function(t){switch(t.keyCode){case 37:case 65:this.player.moveLeft(this.speed);break;case 39:case 68:this.player.moveRight(this.speed);break;case 38:case 87:this.player.moveUp(this.speed);break;case 40:case 83:this.player.moveDown(this.speed)}}},{key:"pause",value:function(){clearInterval(this.timer)}},{key:"renderBackground",value:function(){var t=this;this.space[0].update(this.space[1],this.speed,this.canvas.height),this.space[1].update(this.space[0],this.speed,this.canvas.height),this.space.forEach((function(e){t.context.drawImage(e.image,0,0,e.image.width,e.image.height,e.x,e.y,t.canvas.width,t.canvas.height)}))}},{key:"renderMeteors",value:function(){var t=this;this.meteors.forEach((function(e){e.update(t.speed),t.draw(e),e.top>=t.canvas.height&&(t.meteors.shift(),t.score+=10,t.score%100==0&&(t.speed+=1,t.level+=1)),t.player.overlaps(e)&&t.pause()}))}},{key:"renderPlayer",value:function(){this.draw(this.player)}},{key:"renderStats",value:function(){this.context.font="bold 18px Monospace",this.context.fillStyle="#ffffff",this.context.textBaseline="middle",this.context.textAlign="start",this.context.fillText("Level: ".concat(this.level),20,20),this.context.fillText("Score: ".concat(this.score),20,48)}},{key:"start",value:function(){var t=this;this.timer=setInterval((function(){return t.step()}),1e3/120)}}])&&k(e.prototype,n),t}();Promise.all([p(t),p(e),p(r)]).then((function(t){new O("canvas",t)}))})()})();